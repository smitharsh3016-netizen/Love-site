<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Alvin ‚ù§Ô∏è Aditi</title>

<style>
  * {margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif;}

  body {
    overflow: hidden;
    background: linear-gradient(135deg, #0b0005, #4d001f, #ffb6d5);
    background-size: 300% 300%;
    animation: bgMove 12s ease infinite;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 25px;
    min-height: 100vh;
    color: #fff;
  }

  @keyframes bgMove {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  h1 {
    font-size: 2.2rem;
    color: #ff8fb8;
    text-shadow: 0 0 12px #ff5fa2;
    animation: fadeIn 1.6s ease forwards;
    margin-bottom: 6px;
  }

  @keyframes fadeIn { from {opacity:0; transform: translateY(-8px);} to {opacity:1; transform:translateY(0);} }

  #question {
    margin-top: 8px;
    font-size: 1.2rem;
    color: #ffd0e6;
    text-shadow: 0 0 6px #ff8fb8;
    text-align: center;
    min-height: 56px;
    max-width: 90%;
    line-height: 1.2;
  }

  #sticker {
    width: 180px;
    height: 180px;
    margin-top: 14px;
    object-fit: contain;
    display: none;
    opacity: 0;
    transform: translateY(20px);
    transition: all .45s ease;
  }

  #sticker.show {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }

  button {
    margin-top: 14px;
    padding: 10px 26px;
    background: linear-gradient(180deg,#ff738e,#ff4d78);
    border: none;
    border-radius: 28px;
    color: white;
    font-size: 1rem;
    box-shadow: 0 6px 18px rgba(255,70,120,0.25);
    cursor: pointer;
  }

  /* Glassmorphism Love Box */
  #loveBox {
    display: none;
    margin-top: 20px;
    background: rgba(255, 180, 210, 0.12);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 18px;
    border-radius: 16px;
    box-shadow: 0 6px 24px rgba(255, 0, 80, 0.12);
    text-align: center;
    min-width: 260px;
  }

  #finalMessage {
    display: none;
    font-size: 1.6rem;
    color: #ffd0e6;
    text-shadow: 0 0 10px #ff3e76;
    text-align: center;
    margin-top: 22px;
  }

  /* Particles + hearts + bokeh */
  .particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 180, 210, 0.85);
    filter: blur(3px);
    animation: drift linear infinite;
    pointer-events: none;
  }

  .heartBokeh {
    position: absolute;
    width: 18px;
    height: 18px;
    background: rgba(255, 120, 160, 0.4);
    transform: rotate(45deg);
    border-radius: 2px;
    filter: blur(2px);
    animation: drift linear infinite;
    pointer-events: none;
  }

  .heartBokeh::before,
  .heartBokeh::after {
    content: "";
    position: absolute;
    width: 18px;
    height: 18px;
    background: rgba(255, 120, 160, 0.4);
    border-radius: 50%;
  }

  .heartBokeh::before { top: -9px; left: 0; }
  .heartBokeh::after { top: 0; left: -9px; }

  @keyframes drift {
    0% { transform: translateY(0) scale(1); opacity: 0; }
    10% { opacity: 0.6; }
    100% { transform: translateY(120vh) scale(1.3); opacity: 0; }
  }

  .bokeh {
    position: absolute;
    width: 120px;
    height: 120px;
    background: radial-gradient(circle, rgba(255,200,220,0.95), rgba(255,150,180,0.12));
    border-radius: 50%;
    filter: blur(28px);
    opacity: 0.0;
    animation: floatBokeh 12s infinite ease-in-out;
    pointer-events: none;
  }

  @keyframes floatBokeh {
    0% { transform: scale(.6) translateY(0); opacity: .0; }
    30% { opacity: .45; }
    100% { transform: scale(1.3) translateY(-80vh); opacity: 0; }
  }

  /* floating hearts (larger foreground hearts falling) */
  .heart {
    width: 22px;
    height: 22px;
    background: #ff456e;
    position: absolute;
    transform: rotate(-45deg);
    border-radius: 3px;
    pointer-events: none;
    animation: floatUp 6s linear infinite;
  }
  .heart:before, .heart:after {
    content:""; position:absolute; width:22px; height:22px; background:#ff456e; border-radius:50%;
  }
  .heart:before { top:-11px; left:0; }
  .heart:after  { top:0; left:11px; }
  @keyframes floatUp {
    0% { transform: translateY(0) rotate(-45deg); opacity: 0;}
    10% { opacity: 1;}
    100% { transform: translateY(-120vh) rotate(45deg); opacity: 0;}
  }

  /* hide native audio controls */
  audio { display:none; }

  /* small responsive tweaks */
  @media (max-width:420px) {
    #sticker { width: 140px; height: 140px; }
    h1 { font-size: 1.7rem; }
    #question { font-size: 1.05rem; }
  }
</style>
</head>

<body>

<!-- background music file name should match uploaded file (music.mp3) -->
<audio id="bgMusic" src="music.mp3" loop></audio>

<h1>Alvin ‚ù§Ô∏è Aditi</h1>

<p id="question"></p>

<img id="sticker" src="" alt="Sticker" />

<button id="nextBtn">Next</button>

<div id="loveBox">
  <p style="font-size:1.2rem; color:#fff;">Do you love me Aditi? ü•∫‚ù§Ô∏è</p>
  <button id="yesBtn" style="background:#28d88e; color:#fff; border:none; padding:8px 16px; border-radius:18px; margin-right:12px;">Yes üò≥‚ù§Ô∏è</button>
  <button id="noBtn" style="background:#ff4d4d; color:#fff; border:none; padding:8px 16px; border-radius:18px; position:relative;">No üò≠</button>
</div>

<p id="finalMessage">Aditi, you are the reason Alvin‚Äôs heart smiles. ‚ù§Ô∏è</p>

<script>
/* ------------------ Typewriter ------------------ */
function typeText(element, text, speed = 36) {
  let i = 0;
  element.textContent = "";
  const typing = setInterval(() => {
    element.textContent += text[i] ?? "";
    i++;
    if (i >= text.length) clearInterval(typing);
  }, speed);
}

/* ------------------ Particles / Bokeh / Hearts ------------------ */
function createParticle() {
  const el = document.createElement('div');
  const isHeart = Math.random() > 0.6;

  if (isHeart) {
    el.className = 'heartBokeh';
  } else {
    el.className = 'particle';
    const size = Math.random() * 6 + 2;
    el.style.width = size + 'px';
    el.style.height = size + 'px';
  }

  el.style.left = Math.random() * 100 + 'vw';
  el.style.top = '-12px';
  el.style.opacity = (Math.random() * 0.6 + 0.2).toFixed(2);
  el.style.animationDuration = (6 + Math.random() * 6) + 's';

  document.body.appendChild(el);
  setTimeout(() => el.remove(), 15000);
}
setInterval(createParticle, 240);

/* foreground hearts */
function createHeart() {
  const h = document.createElement('div');
  h.className = 'heart';
  h.style.left = Math.random() * 100 + 'vw';
  h.style.animationDuration = (4 + Math.random() * 4) + 's';
  h.style.opacity = (Math.random() * 0.6 + 0.3).toFixed(2);
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 10000);
}
setInterval(createHeart, 420);

/* soft floating bokeh */
function createBokeh() {
  const b = document.createElement('div');
  b.className = 'bokeh';
  b.style.left = Math.random() * 100 + 'vw';
  b.style.top = '100vh';
  b.style.animationDuration = (8 + Math.random() * 10) + 's';
  document.body.appendChild(b);
  setTimeout(() => b.remove(), 16000);
}
setInterval(createBokeh, 900);

/* ------------------ Main story logic ------------------ */
const questions = [
  "Hey Aditi üëÄ",
  "I made something special for you ü©∑",
  "Do you like surprises? üéÅ",
  "Someone really really likes you üò≥",
  "Ready for the final part? ü•∫üíó"
];

const images = ["1.png","2.png","3.png","4.png","5.png"]; // make sure these images are uploaded to repo

let idx = 0;
const qEl = document.getElementById('question');
const stickerEl = document.getElementById('sticker');
const nextBtn = document.getElementById('nextBtn');
const loveBox = document.getElementById('loveBox');
const finalMsg = document.getElementById('finalMessage');

/* ------------------ Music fade-on-first-tap ------------------ */
const music = document.getElementById('bgMusic');
let musicStarted = false;

function fadeInMusicTo(targetVol = 0.45, step=0.01, delay=120) {
  try {
    music.volume = 0;
    music.play().catch(()=>{});
  } catch(e){}
  let v = 0;
  const fade = setInterval(() => {
    v += step;
    if (v >= targetVol) {
      music.volume = targetVol;
      clearInterval(fade);
    } else {
      music.volume = v;
    }
  }, delay);
}

/* start music on first user interaction (mobile autoplay rules) */
document.body.addEventListener('click', function startMusicOnce(){
  if (!musicStarted) {
    fadeInMusicTo(0.45, 0.01, 150);
    musicStarted = true;
  }
}, { once: true });

/* ------------------ Next button flow ------------------ */
nextBtn.onclick = () => {
  if (idx < questions.length) {
    typeText(qEl, questions[idx]);
    // show sticker after a short delay
    stickerEl.classList.remove('show');
    setTimeout(() => {
      stickerEl.src = images[idx];
      stickerEl.classList.add('show');
    }, 300);
    idx++;
    if (idx === questions.length) nextBtn.textContent = 'Continue';
  } else {
    qEl.style.display = 'none';
    stickerEl.style.display = 'none';
    nextBtn.style.display = 'none';
    loveBox.style.display = 'block';
  }
};

/* ------------------ No button runs away ------------------ */
const noBtn = document.getElementById('noBtn');
noBtn.addEventListener('mouseover', () => {
  noBtn.style.position = 'absolute';
  noBtn.style.left = (Math.random() * 75 + 5) + 'vw';
  noBtn.style.top = (Math.random() * 65 + 5) + 'vh';
});
noBtn.addEventListener('click', () => {
  // small prank - if they actually click No, show a cheeky alert
  alert("Are you sure? ‚ù§Ô∏è");
});

/* ------------------ Yes button final reveal ------------------ */
const yesBtn = document.getElementById('yesBtn');
yesBtn.addEventListener('click', () => {
  loveBox.style.display = 'none';
  finalMsg.style.display = 'block';
  // smooth fade-in for final message
  finalMsg.style.opacity = 0;
  let op = 0;
  const fade = setInterval(()=> {
    op += 0.03;
    finalMsg.style.opacity = op;
    if (op >= 1) clearInterval(fade);
  }, 30);
});

/* Optional: start by showing first question automatically */
typeText(qEl, questions[0]);
stickerEl.src = images[0];
stickerEl.classList.add('show');
idx = 1; // since first already shown

</script>
</body>
</html>
